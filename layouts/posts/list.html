{{ define "main" }}
  {{ $data := .Site.Data.data }}

  <div class="posts">
    <!-- Page Header -->
    <div style="text-align: center; margin-bottom: 2.5rem;">
      <h1 style="font-size: 1.8rem; margin-bottom: 0.5rem; color: #f5f5f5; font-weight: 600;">Blog</h1>
      <p style="color: #888; font-size: 0.95rem;">
        Thoughts on cloud engineering, DevOps, and infrastructure automation
      </p>
    </div>

    <!-- Blog Posts Section -->
    {{ if $data.blogs }}
    <section style="margin-bottom: 3rem;">
      {{ range $data.blogs }}
      <article class="blog-post" style="
        border: 1px solid #333;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 1.25rem;
        background: #252525;
        transition: all 0.2s ease;
      ">
        <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 0.75rem;">
          <h2 style="margin: 0; font-size: 1.2rem;">
            <a href="/posts/{{ .id }}" style="text-decoration: none; color: #f5f5f5; transition: color 0.2s;">{{ .title }}</a>
          </h2>
          <span style="
            background-color: #1e1e1e;
            border: 1px solid #3a3a3a;
            color: #999;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
          ">{{ .category }}</span>
        </div>

        <div style="margin-bottom: 0.75rem; font-size: 0.85rem; color: #666;">
          <time>{{ .date }}</time>
        </div>

        <p style="color: #888; line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">{{ .description }}</p>

        <a href="/posts/{{ .id }}" class="read-more-btn" style="
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 8px 16px;
          background: transparent;
          border: 1px solid #444;
          color: #ccc;
          text-decoration: none;
          border-radius: 6px;
          font-size: 0.85rem;
          transition: all 0.2s ease;
        ">
          Read more
          <span>→</span>
        </a>
      </article>
      {{ end }}
    </section>
    {{ else }}
      <p style="text-align: center; color: #888; padding: 2rem 0;">No blog posts available yet.</p>
    {{ end }}

    <!-- 100 Days of AWS Section -->
    {{ if $data.aws_challenge }}
    <section>
      <div style="
        border: 1px solid #444;
        border-radius: 8px;
        padding: 1.5rem;
        background: #252525;
        transition: all 0.2s ease;
      " class="challenge-card">
        <div style="margin-bottom: 1rem;">
          <h2 style="margin: 0 0 0.25rem 0; font-size: 1.2rem; color: #f5f5f5;">
            <a href="/challenge" style="text-decoration: none; color: inherit;">100 Days of AWS</a>
          </h2>
          <p style="margin: 0; color: #da7756; font-size: 0.85rem; font-weight: 500;">Currently in progress</p>
        </div>

        <p style="color: #888; line-height: 1.6; margin-bottom: 1.25rem; font-size: 0.9rem;">
          Track my journey through 100 days of AWS learning and hands-on practice.
          From fundamentals to advanced services, follow along as I master cloud computing.
        </p>

        <a href="/challenge" class="challenge-btn" style="
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 10px 20px;
          background: #da7756;
          border: 1px solid #da7756;
          color: #fff;
          text-decoration: none;
          border-radius: 6px;
          font-size: 0.9rem;
          font-weight: 500;
          transition: all 0.2s ease;
        ">
          View Challenge
          <span>→</span>
        </a>
      </div>
    </section>
    {{ end }}
  </div>

  <style>
    .blog-post:hover {
      border-color: #444;
      background: #2a2a2a;
    }

    .blog-post:hover h2 a {
      color: #da7756 !important;
    }

    .read-more-btn:hover {
      border-color: #666;
      color: #f5f5f5;
    }

    .challenge-card:hover {
      border-color: #555;
      background: #2a2a2a;
    }

    .challenge-btn:hover {
      background: #c56747;
      border-color: #c56747;
    }

    @media (max-width: 768px) {
      .blog-post {
        padding: 1.25rem !important;
      }
    }
  </style>

{{ end }}
