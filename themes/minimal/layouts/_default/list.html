{{ define "main" }}
{{ $data := .Site.Data.data }}

<h1>{{ .Title }}</h1>

{{ if eq .Section "posts" }}
  <!-- Blog Posts List -->
  {{ if $data.blogs }}
  <ul class="post-list">
    {{ range $data.blogs }}
    <li>
      <span class="date">{{ .date }}</span> - <a href="/posts/{{ .id }}">{{ .title }}</a>
      <p class="description">{{ .description }}</p>
    </li>
    {{ end }}
  </ul>
  {{ else }}
    <p>No posts available.</p>
  {{ end }}

{{ else if eq .Section "projects" }}
  <!-- Projects List -->
  {{ if $data.projects }}
  <ul class="project-list">
    {{ range $data.projects }}
    <li>
      <a href="/projects/{{ .id }}">{{ .title }}</a>
      <p class="description">{{ .description }}</p>
      {{ if .badges }}
      <div class="badges">
        {{ range .badges }}
        <span class="badge">{{ .name }}</span>
        {{ end }}
      </div>
      {{ end }}
    </li>
    {{ end }}
  </ul>
  {{ else }}
    <p>No projects available.</p>
  {{ end }}

{{ else if eq .Section "challenge" }}
  <!-- Terraform Challenge -->
  {{ if $data.terraform_challenge }}
  <p>Track my journey through 30 days of Terraform learning.</p>
  <ul class="challenge-list">
    {{ range $data.terraform_challenge }}
    <li>
      <strong>Day {{ .day }}</strong>: {{ .title }}
      <span class="status-{{ .status | lower }}">{{ .status }}</span>
    </li>
    {{ end }}
  </ul>
  {{ else }}
    <p>No challenge data available.</p>
  {{ end }}

{{ else }}
  <!-- Default List -->
  {{ .Content }}
{{ end }}

{{ end }}
